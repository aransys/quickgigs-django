{% extends 'gigs/base.html' %} {% block title %}Contact Us - QuickGigs{% endblock %} {% block content %}
<div class="bg-white min-h-screen py-16">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-800 mb-4">Get in Touch</h1>
      <p class="text-xl text-gray-600">Have questions or feedback? We'd love to hear from you.</p>
    </div>

    <div class="grid lg:grid-cols-2 gap-12">
      <!-- Contact Form -->
      <div class="bg-white rounded-2xl shadow-xl p-8" style="box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.2), 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
        <h2 class="text-2xl font-semibold text-gray-800 mb-6">Send us a Message</h2>

        <form id="contact-form" class="space-y-6" onsubmit="handleFormSubmit(event)">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Name</label>
            <input type="text" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg contact-form-input" style="outline: none; box-shadow: none;" placeholder="Your full name" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
            <input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg contact-form-input focus:ring-0 focus:outline-none" style="outline: none;" placeholder="your@email.com" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
            <select name="subject" required class="w-full px-4 py-3 border border-gray-300 rounded-lg contact-form-input focus:ring-0 focus:outline-none" style="outline: none;">
              <option value="">Select a subject</option>
              <option value="General Inquiry">General Inquiry</option>
              <option value="Technical Support">Technical Support</option>
              <option value="Account Issues">Account Issues</option>
              <option value="Feature Request">Feature Request</option>
              <option value="Partnership">Partnership</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Message</label>
            <textarea name="message" rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-lg contact-form-input focus:ring-0 focus:outline-none" style="outline: none;" placeholder="Tell us how we can help..."></textarea>
          </div>

          <button type="submit" class="btn btn--view-details w-full"><i class="fas fa-paper-plane mr-2"></i>Send Message</button>
        </form>
      </div>

      <!-- Contact Info -->
      <div class="grid md:grid-cols-2 lg:grid-cols-1 gap-8">
        <div class="bg-white rounded-2xl shadow-xl p-8" style="box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.2), 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Contact Information</h3>
          <div class="space-y-4">
            <div class="flex items-center">
              <div class="bg-brand-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-envelope text-brand-500"></i>
              </div>
              <div>
                <p class="font-medium text-gray-800">Email</p>
                <p class="text-gray-600">support@quickgigs.com</p>
              </div>
            </div>

            <div class="flex items-center">
              <div class="bg-brand-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-clock text-brand-500"></i>
              </div>
              <div>
                <p class="font-medium text-gray-800">Response Time</p>
                <p class="text-gray-600">Within 24 hours</p>
              </div>
            </div>

            <div class="flex items-center">
              <div class="bg-brand-100 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-headset text-brand-500"></i>
              </div>
              <div>
                <p class="font-medium text-gray-800">Support Hours</p>
                <p class="text-gray-600">Mon-Fri, 9AM-5PM</p>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-8 shadow-xl" style="box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.2), 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Quick Help</h3>
          <div class="space-y-3">
            <button onclick="openModal('faq-modal')" class="block quick-help-button font-medium w-full text-left cursor-pointer transition-colors duration-200">
              <i class="fas fa-question-circle mr-2"></i>Frequently Asked Questions
            </button>
            <button onclick="openModal('guide-modal')" class="block quick-help-button font-medium w-full text-left cursor-pointer transition-colors duration-200">
              <i class="fas fa-book mr-2"></i>User Guide
            </button>
            <button onclick="openModal('help-modal')" class="block quick-help-button font-medium w-full text-left cursor-pointer transition-colors duration-200">
              <i class="fas fa-life-ring mr-2"></i>Help Center
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FAQ Modal -->
<div id="faq-modal" class="modal-overlay">
  <div class="modal-content">
    <div class="p-8">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800">
          <i class="fas fa-question-circle text-brand-500 mr-3"></i>Frequently Asked Questions
        </h3>
        <button onclick="closeModal('faq-modal')" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      
      <div class="space-y-3">
        <div class="border-b border-gray-200 pb-2">
          <h4 class="font-semibold text-gray-800 mb-1">How do I create a gig?</h4>
          <p class="text-gray-600 text-sm">Go to "Post a Gig", fill in details, and click "Post Gig" to publish.</p>
        </div>
        
        <div class="border-b border-gray-200 pb-2">
          <h4 class="font-semibold text-gray-800 mb-1">What payment methods do you accept?</h4>
          <p class="text-gray-600 text-sm">Credit cards, PayPal, and bank transfers with secure processing.</p>
        </div>
        
        <div class="pb-2">
          <h4 class="font-semibold text-gray-800 mb-1">How do I withdraw earnings?</h4>
          <p class="text-gray-600 text-sm">Withdraw through dashboard after completion. Minimum $10, 2-3 business days.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- User Guide Modal -->
<div id="guide-modal" class="modal-overlay">
  <div class="modal-content">
    <div class="p-8">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800">
          <i class="fas fa-book text-brand-500 mr-3"></i>User Guide
        </h3>
        <button onclick="closeModal('guide-modal')" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      
      <div class="space-y-3">
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 p-3 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Getting Started</h4>
          <ol class="list-decimal list-inside text-gray-700 text-sm space-y-1">
            <li>Create account and profile</li>
            <li>Choose user type</li>
            <li>Add skills and payment info</li>
          </ol>
        </div>
        
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 p-3 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">For Clients</h4>
          <ul class="list-disc list-inside text-gray-700 text-sm space-y-1">
            <li>Browse or post gigs</li>
            <li>Review freelancer profiles</li>
            <li>Release payment when done</li>
          </ul>
        </div>
        
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 p-3 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">For Freelancers</h4>
          <ul class="list-disc list-inside text-gray-700 text-sm space-y-1">
            <li>Create compelling gigs</li>
            <li>Set competitive pricing</li>
            <li>Deliver quality work on time</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Help Center Modal -->
<div id="help-modal" class="modal-overlay">
  <div class="modal-content">
    <div class="p-8">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800">
          <i class="fas fa-life-ring text-brand-500 mr-3"></i>Help Center
        </h3>
        <button onclick="closeModal('help-modal')" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      
      <div class="space-y-4">
        <div class="grid md:grid-cols-2 gap-3">
          <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank" class="bg-gradient-to-br from-brand-500 to-brand-600 p-4 rounded-xl text-white hover:from-brand-600 hover:to-brand-700 hover:scale-102 hover:shadow-2xl hover:shadow-brand-400/50 hover:ring-2 hover:ring-green-600 hover:ring-offset-2 hover:ring-offset-white transform transition-all duration-300 ease-out cursor-pointer group relative">
            <div class="absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full animate-pulse">NEW</div>
            <i class="fas fa-video text-2xl mb-2 group-hover:scale-105 transition-transform duration-300"></i>
            <h4 class="font-semibold mb-1">Video Tutorials</h4>
            <p class="text-brand-100 text-sm">Step-by-step guides</p>
          </a>
          
          <a href="https://www.reddit.com/r/ProgrammerHumor/" target="_blank" class="bg-gradient-to-br from-brand-500 to-brand-600 p-4 rounded-xl text-white hover:from-brand-600 hover:to-brand-700 hover:scale-102 hover:shadow-2xl hover:shadow-brand-400/50 hover:ring-2 hover:ring-green-600 hover:ring-offset-2 hover:ring-offset-white transform transition-all duration-300 ease-out cursor-pointer group relative">
            <div class="absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full animate-pulse">HOT</div>
            <i class="fas fa-users text-2xl mb-2 group-hover:scale-105 transition-transform duration-300"></i>
            <h4 class="font-semibold mb-1">Community Forum</h4>
            <p class="text-brand-100 text-sm">Connect with other users</p>
          </a>
        </div>
        
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 p-3 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Contact Info</h4>
          <div class="space-y-1 text-sm text-gray-600">
            <p><i class="fas fa-clock mr-2"></i>Mon-Fri, 9AM-5PM EST</p>
            <p><i class="fas fa-envelope mr-2"></i>support@quickgigs.com</p>
            <p><i class="fas fa-phone mr-2"></i>1-800-QUICKGIGS</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Contact Form Confirmation Modal -->
<div id="contact-confirmation-modal" class="modal-overlay">
  <div class="modal-content">
    <div class="p-8 text-center">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800">
          <i class="fas fa-check-circle text-green-500 mr-3"></i>Message Sent!
        </h3>
        <button onclick="closeModal('contact-confirmation-modal')" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      
      <div class="space-y-4">
        <div class="bg-green-50 p-6 rounded-xl">
          <i class="fas fa-envelope-open text-4xl text-green-500 mb-4"></i>
          <h4 class="font-semibold text-green-800 mb-2">Thank you for your message!</h4>
          <p class="text-green-700 text-sm">We've received your inquiry and will get back to you within 24 hours.</p>
        </div>
        
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-800 mb-2">What happens next?</h4>
          <ul class="list-disc list-inside text-green-700 text-sm space-y-1">
            <li>You'll receive a confirmation email</li>
            <li>Our team will review your message</li>
            <li>We'll respond within 24 hours</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.contact-form-input:focus {
  border-color: #046b4e !important;
  border-width: 1px !important;
  box-shadow: 0 0 0 1px #046b4e !important;
  outline: none !important;
  outline-offset: 0 !important;
  outline-style: none !important;
  outline-width: 0 !important;
  outline-color: transparent !important;
  -webkit-box-shadow: 0 0 0 1px #046b4e !important;
  -moz-box-shadow: 0 0 0 1px #046b4e !important;
  -ms-box-shadow: 0 0 0 1px #046b4e !important;
}

.contact-form-input:focus-visible {
  outline: none !important;
  outline-offset: 0 !important;
  outline-style: none !important;
  outline-width: 0 !important;
  outline-color: transparent !important;
}

*:focus {
  outline: none !important;
}

input:focus,
select:focus,
textarea:focus {
  outline: none !important;
  outline-offset: 0 !important;
  outline-style: none !important;
  outline-width: 0 !important;
  outline-color: transparent !important;
  -webkit-outline: none !important;
  -moz-outline: none !important;
  -ms-outline: none !important;
}

input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none !important;
  outline-offset: 0 !important;
  outline-style: none !important;
  outline-width: 0 !important;
  outline-color: transparent !important;
  -webkit-outline: none !important;
  -moz-outline: none !important;
  -ms-outline: none !important;
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.modal-content {
  background: white;
  border-radius: 1rem;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  max-width: 32rem;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  transform: scale(0.8) translateY(40px);
  opacity: 0;
  will-change: transform, opacity;
}

/* Prevent body scroll without layout shift */
body.modal-open {
  padding-right: var(--scrollbar-width, 0px);
  overflow: hidden;
}

/* Quick Help button styling */
.quick-help-button {
  color: #0a6b4d !important;
}

.quick-help-button:hover {
  color: #085a3f !important;
}
</style>

<script>
let scrollbarWidth = 0;

function getScrollbarWidth() {
  const outer = document.createElement('div');
  outer.style.visibility = 'hidden';
  outer.style.overflow = 'scroll';
  document.body.appendChild(outer);
  
  const inner = document.createElement('div');
  outer.appendChild(inner);
  
  scrollbarWidth = outer.offsetWidth - inner.offsetWidth;
  
  outer.parentNode.removeChild(outer);
  
  return scrollbarWidth;
}

class ModalAnimator {
  constructor() {
    this.activeModal = null;
    this.animations = new Map();
    
    // Calculate scrollbar width on initialization
    if (scrollbarWidth === 0) {
      scrollbarWidth = getScrollbarWidth();
      document.documentElement.style.setProperty('--scrollbar-width', scrollbarWidth + 'px');
    }
  }

  async openModal(modalId) {
    const modal = document.getElementById(modalId);
    const overlay = modal;
    const content = modal.querySelector('.modal-content');
    
    if (this.activeModal) {
      await this.closeModal(this.activeModal);
    }
    
    this.activeModal = modalId;
    
    // Prevent layout shift by adding padding before hiding overflow
    document.body.classList.add('modal-open');
    
    // Show modal
    overlay.style.visibility = 'visible';
    overlay.style.pointerEvents = 'auto';
    
    // Create and run animations
    const overlayAnimation = overlay.animate([
      { opacity: 0 },
      { opacity: 1 }
    ], {
      duration: 300,
      easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
      fill: 'forwards'
    });
    
    const contentAnimation = content.animate([
      { 
        opacity: 0,
        transform: 'scale(0.8) translateY(40px)'
      },
      { 
        opacity: 1,
        transform: 'scale(1) translateY(0)'
      }
    ], {
      duration: 400,
      easing: 'cubic-bezier(0.34, 1.56, 0.64, 1)',
      fill: 'forwards',
      delay: 50
    });
    
    // Store animations for cleanup
    this.animations.set(modalId, { overlay: overlayAnimation, content: contentAnimation });
    
    return Promise.all([overlayAnimation.finished, contentAnimation.finished]);
  }

  async closeModal(modalId) {
    const modal = document.getElementById(modalId);
    const overlay = modal;
    const content = modal.querySelector('.modal-content');
    
    // Create reverse animations
    const overlayAnimation = overlay.animate([
      { opacity: 1 },
      { opacity: 0 }
    ], {
      duration: 250,
      easing: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',
      fill: 'forwards'
    });
    
    const contentAnimation = content.animate([
      { 
        opacity: 1,
        transform: 'scale(1) translateY(0)'
      },
      { 
        opacity: 0,
        transform: 'scale(0.9) translateY(20px)'
      }
    ], {
      duration: 300,
      easing: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',
      fill: 'forwards'
    });
    
    // Wait for animations to complete
    await Promise.all([overlayAnimation.finished, contentAnimation.finished]);
    
    // Hide modal
    overlay.style.visibility = 'hidden';
    overlay.style.pointerEvents = 'none';
    document.body.classList.remove('modal-open');
    
    // Clean up stored animations
    this.animations.delete(modalId);
    
    if (this.activeModal === modalId) {
      this.activeModal = null;
    }
  }
}

// Initialize modal animator
const modalAnimator = new ModalAnimator();

function openModal(modalId) {
  modalAnimator.openModal(modalId);
}

function closeModal(modalId) {
  modalAnimator.closeModal(modalId);
}

function handleFormSubmit(event) {
  event.preventDefault();
  
  // Get form data
  const formData = new FormData(event.target);
  const formObject = Object.fromEntries(formData);
  
  // Here you would typically send the data to your backend
  // For now, we'll just show the confirmation modal
  console.log('Form submitted:', formObject);
  
  // Reset the form
  event.target.reset();
  
  // Show confirmation modal
  openModal('contact-confirmation-modal');
}

// Close modal when clicking on overlay
document.addEventListener('DOMContentLoaded', function() {
  const modals = document.querySelectorAll('.modal-overlay');
  
  modals.forEach(modal => {
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        const modalId = modal.id;
        closeModal(modalId);
      }
    });
  });
  
  // Close modal with Escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      if (modalAnimator.activeModal) {
        closeModal(modalAnimator.activeModal);
      }
    }
  });
});
</script>
{% endblock %}
